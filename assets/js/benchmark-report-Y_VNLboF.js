import"./modulepreload-polyfill-YP0FEG5d.js";import{l as e}from"./vendor-Dyy25WtN.js";var t,n,o,r,i,d;function a(){t=document.getElementById("submit-btn"),n=document.getElementById("cap"),t&&(t.disabled=!0,t.textContent="Get My Free Report â†’"),"function"==typeof(null==n?void 0:n.reset)&&n.reset()}async function s(s){if(s.preventDefault(),t=t||document.getElementById("submit-btn"),o=o||document.getElementById("error-message"),r=r||document.getElementById("success-message"),i=i||s.target,n=n||document.getElementById("cap"),!(d=document.getElementById("email").value).includes("@")||!d.includes("."))return o.textContent="Please enter a valid business email address.",void(o.style.display="block");t.disabled=!0,t.textContent="Sending report...";var l,m={},u=new FormData(i);for(var c of u.entries())m[c[0]]=c[1];m.timestamp=(new Date).toISOString();try{l=await fetch("https://api.findforce.io/v1/public/benchmark-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});var y=await l.json();if(!l.ok)return o.textContent=(null==y?void 0:y.message)||"Something went wrong. Please try again or email us at support@findforce.io",o.style.display="block",a(),void e.error("Error submitting form:",y);i.style.display="none";var p=(null==y?void 0:y.title)||"ðŸŽ‰ Report Sent Successfully!",f=(null==y?void 0:y.message)||"Check your email for your Sales Team Productivity Benchmark Report.",g=r.querySelector("h3"),b=r.querySelector("p");g&&(g.textContent=p),b&&(b.textContent=f),r.style.display="block",e.info("Form submission:",m)}catch(v){o.textContent="Something went wrong. Please try again or email us at support@findforce.io",o.style.display="block",a(),e.error("Error submitting form:",v)}}function l(){document.getElementById("submit-btn").disabled=!1}function m(){document.getElementById("submit-btn").disabled=!0}function u(){var e=document.getElementById("cap");e.addEventListener("solve",l),e.addEventListener("reset",m),e.addEventListener("error",m),document.getElementById("report-form").addEventListener("submit",s)}"loading"==document.readyState?document.addEventListener("DOMContentLoaded",u):u();
