function A(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var S={exports:{}},P=S.exports,O;function U(){return O||(O=1,(function(c){(function(y,l){c.exports?c.exports=l():y.log=l()})(P,function(){var y=function(){},l="undefined",F=typeof window!==l&&typeof window.navigator!==l&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],u={},n=null;function g(t,r){var e=t[r];if(typeof e.bind=="function")return e.bind(t);try{return Function.prototype.bind.call(e,t)}catch{return function(){return Function.prototype.apply.apply(e,[t,arguments])}}}function m(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function C(t){return t==="debug"&&(t="log"),typeof console===l?!1:t==="trace"&&F?m:console[t]!==void 0?g(console,t):console.log!==void 0?g(console,"log"):y}function d(){for(var t=this.getLevel(),r=0;r<s.length;r++){var e=s[r];this[e]=r<t?y:this.methodFactory(e,t,this.name)}if(this.log=this.debug,typeof console===l&&t<this.levels.SILENT)return"No console available for logging"}function x(t){return function(){typeof console!==l&&(d.call(this),this[t].apply(this,arguments))}}function R(t,r,e){return C(t)||x.apply(this,arguments)}function b(t,r){var e=this,h,p,f,a="loglevel";typeof t=="string"?a+=":"+t:typeof t=="symbol"&&(a=void 0);function T(o){var i=(s[o]||"silent").toUpperCase();if(!(typeof window===l||!a)){try{window.localStorage[a]=i;return}catch{}try{window.document.cookie=encodeURIComponent(a)+"="+i+";"}catch{}}}function L(){var o;if(!(typeof window===l||!a)){try{o=window.localStorage[a]}catch{}if(typeof o===l)try{var i=window.document.cookie,I=encodeURIComponent(a),M=i.indexOf(I+"=");M!==-1&&(o=/^([^;]+)/.exec(i.slice(M+I.length+1))[1])}catch{}return e.levels[o]===void 0&&(o=void 0),o}}function E(){if(!(typeof window===l||!a)){try{window.localStorage.removeItem(a)}catch{}try{window.document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function v(o){var i=o;if(typeof i=="string"&&e.levels[i.toUpperCase()]!==void 0&&(i=e.levels[i.toUpperCase()]),typeof i=="number"&&i>=0&&i<=e.levels.SILENT)return i;throw new TypeError("log.setLevel() called with invalid level: "+o)}e.name=t,e.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},e.methodFactory=r||R,e.getLevel=function(){return f??p??h},e.setLevel=function(o,i){return f=v(o),i!==!1&&T(f),d.call(e)},e.setDefaultLevel=function(o){p=v(o),L()||e.setLevel(o,!1)},e.resetLevel=function(){f=null,E(),d.call(e)},e.enableAll=function(o){e.setLevel(e.levels.TRACE,o)},e.disableAll=function(o){e.setLevel(e.levels.SILENT,o)},e.rebuild=function(){if(n!==e&&(h=v(n.getLevel())),d.call(e),n===e)for(var o in u)u[o].rebuild()},h=v(n?n.getLevel():"WARN");var B=L();B!=null&&(f=v(B)),d.call(e)}n=new b,n.getLogger=function(r){if(typeof r!="symbol"&&typeof r!="string"||r==="")throw new TypeError("You must supply a name when creating a logger.");var e=u[r];return e||(e=u[r]=new b(r,n.methodFactory)),e};var w=typeof window!==l?window.log:void 0;return n.noConflict=function(){return typeof window!==l&&window.log===n&&(window.log=w),n},n.getLoggers=function(){return u},n.default=n,n})})(S)),S.exports}var D=U();const N=A(D);function _(c,y,l,F){var s,u,n,g,m;function C(){s=document.getElementById("submit-btn"),u=document.getElementById("cap"),s&&(s.disabled=!0,s.textContent=y),typeof u?.reset=="function"&&u.reset()}async function d(b){b.preventDefault(),s=s||document.getElementById("submit-btn"),n=n||document.getElementById("error-message"),g=g||document.getElementById("success-message"),m=m||b.target,u=u||document.getElementById("cap");var w={},t=new FormData(m);for(var r of t.entries())w[r[0]]=r[1];w.timestamp=new Date().toISOString();var e=F(w);if(!e.success){var h=e.errors[0];n.textContent=h.message||"Please check your input and try again.",n.style.display="block";return}s.disabled=!0,s.textContent=l;var p;try{p=await fetch(`${c}/v1/public-reports`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});var f=await p.json();if(!p.ok){n.textContent=f?.message||"Something went wrong. Please try again or email us at support@findforce.io",n.style.display="block",C();return}m.style.display="none";var a=f?.title||"ðŸŽ‰ Report Sent Successfully!",T=f?.message||"Check your email for your report.",L=g.querySelector("h3"),E=g.querySelector("p");L&&(L.textContent=a),E&&(E.textContent=T),g.style.display="block"}catch(v){N.error("Error submitting form:",v),n.textContent="Something went wrong. Please try again or email us at support@findforce.io",n.style.display="block",C()}}function x(){document.getElementById("submit-btn").disabled=!1}function R(){document.getElementById("submit-btn").disabled=!0}return{submitForm:d,handleCaptchaSuccess:x,handleCaptchaError:R}}window.createFormHandler=_;
